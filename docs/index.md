---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "dataprocessor Provider"
subcategory: ""
description: |-
  The Data processor provider is used to process data in a simple and clean way inside terraform code
  to avoid HCL over-engineering
  Using proper tools like JQ, YQ or small Go plugins to process/transform data will make terraform code cleaner
  and more maintainable.
  Normally, this provider will be used to transform, filter or create new data structures in formats like JSON, YAML or event raw strings that
  can be used afterwards as outputs or other terraform resources, providers and modules.
  Terraform cloud
  The provider is portable and doesn't depend on any binary, its compatible with terraform cloud workers out of the box.
---

# dataprocessor Provider

The Data processor provider is used to process data in a simple and clean way inside terraform code
to avoid HCL over-engineering

Using proper tools like JQ, YQ or small Go plugins to process/transform data will make terraform code cleaner
and more maintainable.

Normally, this provider will be used to transform, filter or create new data structures in formats like JSON, YAML or event raw strings that
can be used afterwards as outputs or other terraform resources, providers and modules.

## Terraform cloud

The provider is portable and doesn't depend on any binary, its compatible with terraform cloud workers out of the box.

## Example Usage

```terraform
terraform {
  required_providers {
    dataprocessor = {
      source = "slok/dataprocessor"
    }
  }
}

# JQ example.
data "dataprocessor_jq" "test" {
  input_data = <<EOT
    {"timestamp": 1234567890,"report": "Age Report","results": [{ "name": "John", "age": 43, "city": "TownA" },{ "name": "Joe",  "age": 10, "city": "TownB" }]}
  EOT

  expression = "[.results[] | {name, age}]"
}

# YQ example.
data "dataprocessor_yq" "test" {
  input_data = <<EOT
values:
  a: 1
  b: 2
  c: 3
  EOT

  expression = "map_values(.values + 1)"
}


## Go plugin v1 example.
data "dataprocessor_go_plugin_v1" "test" {
  plugin = <<EOT
package tfplugin

import (
	"context"
	"fmt"
	"time"
)

func ProcessorPluginV1(ctx context.Context, inputData string, vars map[string]string) (string, error) {
	prefix := vars["prefix"]

	result :=  fmt.Sprintf("(%s): %s%s", time.Now().UTC(), prefix, inputData)

	return result, nil
}
EOT

  input_data = "random string nobody knows where comes from"
  vars = {
    "prefix" = "some_random_prefix-"
  }
}


output "test" {
  value = {
    "jq_result"           = jsondecode(data.dataprocessor_jq.test.result)
    "yq_result"           = yamldecode(data.dataprocessor_yq.test.result)
    "go_plugin_v1_result" = data.dataprocessor_go_plugin_v1.test.result
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema
